(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{286:function(t,e,o){var n=o(358);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);(0,o(13).default)("0b623d7f",n,!1,{})},355:function(t,e,o){t.exports=o.p+"img/b49eabd.svg"},356:function(t,e){t.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0ODAuNzYgMzI2LjUxIj48ZGVmcz48c3R5bGU+LmNscy0xe2ZpbGw6I2ZmZjt9PC9zdHlsZT48L2RlZnM+PHRpdGxlPmljb25fY2xlYXJfbWVtYmVyPC90aXRsZT48ZyBpZD0i44Os44Kk44Ok44O8XzIiIGRhdGEtbmFtZT0i44Os44Kk44Ok44O8IDIiPjxnIGlkPSJfMiIgZGF0YS1uYW1lPSIyIj48cGF0aCBjbGFzcz0iY2xzLTEiIGQ9Ik0yNDAuMzgsMTM1LjU0YTY0LjA5LDY0LjA5LDAsMSwwLTY0LjA5LTY0LjA5QTY0LjA5LDY0LjA5LDAsMCwwLDI0MC4zOCwxMzUuNTRaIi8+PHBhdGggY2xhc3M9ImNscy0xIiBkPSJNMzIwLjI0LDMyNi41MVYyNzMuMjlBNTAuNTcsNTAuNTcsMCwwLDEsMzMwLDI0My40NEw0NzUuMjMsNDQuODZhMjguMTIsMjguMTIsMCwwLDAtNDUuMTgtMzMuNDlMMzU0LjkzLDExMi43M2ExMDEuMTgsMTAxLjE4LDAsMCwxLTgxLjI2LDQwLjkxSDIwNy4xMWExMDEuMTIsMTAxLjEyLDAsMCwxLTgxLjI1LTQwLjkxTDUwLjcxLDExLjM3QTI4LjEyLDI4LjEyLDAsMCwwLDUuNTMsNDQuODZMMTUwLjc4LDI0My40NGE1MC41Nyw1MC41NywwLDAsMSw5Ljc2LDI5Ljg1djUzLjIyWiIvPjwvZz48L2c+PC9zdmc+"},357:function(t,e,o){"use strict";var n=o(286);o.n(n).a},358:function(t,e,o){(t.exports=o(12)(!1)).push([t.i,".loader[data-v-4f318383],.loader[data-v-4f318383]:after{border-radius:50%;width:2em;height:2em}.loader[data-v-4f318383]{margin:5% auto;font-size:10px;position:relative;text-indent:-9999em;border:.5em solid rgba(0,0,0,.2);border-left-color:#000;-webkit-transform:translateZ(0);transform:translateZ(0);-webkit-animation:load8-data-v-4f318383 1.1s linear infinite;animation:load8-data-v-4f318383 1.1s linear infinite}@-webkit-keyframes load8-data-v-4f318383{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes load8-data-v-4f318383{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}",""])},386:function(t,e,o){"use strict";o.r(e);var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"mypageTop marginTopAdd"},[n("div",{staticClass:"container"},[n("div",{staticClass:"profileArea"},[n("h3",{staticClass:"bountyTitle"},[t._v(t._s(t.bounty.bountyName))]),t._v(" "),n("div",{staticClass:"snsShare"},[n("a",{staticClass:"twitter-share-button",attrs:{href:"https://twitter.com/share?ref_src=twsrc%5Etfw","data-show-count":"false"}},[t._v("Tweet")]),t._v(" "),n("script",{attrs:{async:"",src:"https://platform.twitter.com/widgets.js",charset:"utf-8"}}),t._v(" "),n("iframe",{staticStyle:{border:"none",overflow:"hidden"},attrs:{src:"https://www.facebook.com/plugins/share_button.php?href="+t.faceBookShareUrl+"&layout=button&size=small&width=61&height=20&appId",width:"61",height:"20",scrolling:"no",frameborder:"0",allowTransparency:"true",allow:"encrypted-media"}}),t._v(" "),n("button-crip-board-copy",[n("a",{attrs:{slot:"link"},slot:"link"},[n("span",{staticClass:"chatNumber"},[n("img",{attrs:{src:o(355)}}),t._v("URLコピー")])])])],1),t._v(" "),1==t.isOwn?n("div",[n("div",{staticClass:"textRight top60"},[n("a",{staticClass:"rewardButton",on:{click:function(e){t.allowPush("/account/my/bounties/create?bountyId="+t.bounty.bountyId)}}},[t._v("編集する")])])]):t._e(),t._v(" "),n("div",{staticClass:"marginTop-30"},[t.iconUrl?n("div",{directives:[{name:"lazy",rawName:"v-lazy:background-image",value:t.iconUrl,expression:"iconUrl",arg:"background-image"}],staticClass:"bountyIcon"}):t._e(),t._v(" "),n("p",{staticClass:"bountyOwner"},[t._v("オーナー：")]),n("nuxt-link",{staticClass:"bountyArtistName",attrs:{to:"/players/"+t.bounty.account.accountName}},[t._v(t._s(t.bounty.account.displayName))])],1),t._v(" "),n("div",{staticClass:"projectData"},[n("BountyType",{attrs:{bountyType:t.bounty.bountyType,isTag:!0,isLink:!0}}),t._v(" "),n("p",{staticClass:"textWhite"},[n("span",[t._v(t._s(t._f("toDateRight")(t.bounty.publishDate)))])]),t._v(" "),n("p",{staticClass:"textWhite"},[t._v("パーティ："),n("span",[t._v(t._s(t.bounty.joinCount)+" 人")])]),t._v(" "),1==t.isOwn?n("p",{staticClass:"textWhite"},[t._v("ステータス："+t._s(t.bountyStatsName))]):t._e(),t._v(" "),t.isBountyFull?n("span",{staticClass:"projectFull"},[t._v("満員")]):t._e(),t._v(" "),1==t.bounty.isNew?n("span",{staticClass:"projectNew"},[t._v("NEW")]):t._e(),t._v(" "),0==t.isChallengerFull?n("span",{staticClass:"memberNon2"},[t._v("募集中")]):t._e()],1),t._v(" "),n("div",{staticClass:"grad-wrap"},[n("div",{staticClass:"grad-item bounty"},[n("p",{directives:[{name:"linkified",rawName:"v-linkified"}],domProps:{innerHTML:t._s(t.$options.filters.newLine(t.bounty.description))}}),t._v(" "),1===t.bounty.openChat?n("p",[t._v("※本クエストは、チャットの内容が公開されています。")]):t._e(),t._v(" "),n("div",{staticClass:"projectData"},[t.bounty.achievedCount>0?n("span",{staticClass:"chatNumber"},[n("img",{attrs:{loading:"lazy",src:o(356)}}),t._v(t._s(t._f("toLocaleString")(t.bounty.achievedCount)))]):t._e(),t._v(" "),t.bounty.likeCount>0?n("a",{on:{click:function(e){t.tabNumChange(3)}}},[n("span",{staticClass:"chatNumber"},[n("img",{attrs:{loading:"lazy",src:o(237)}}),t._v(t._s(t._f("toLocaleString")(t.bounty.likeCount)))])]):t._e(),t.bounty.commentCount>0?n("a",{on:{click:function(e){t.tabNumChange(3)}}},[n("span",{staticClass:"chatNumber"},[n("img",{attrs:{loading:"lazy",src:o(240)}}),t._v(t._s(t._f("toLocaleString")(t.bounty.commentCount)))])]):t._e()])])])]),t._v(" "),1==t.isOwn&&0==t.bounty.publishStatus?n("div",{staticClass:"textCenter questButtonArea"},[n("p",[t._v("登録内容を確認したら、クエストを公開してください。")]),t._v(" "),n("a",{staticClass:"grow2 rewardButton ChangeButton",on:{click:function(e){t.allowPush("/account/my/bounties/create?bountyId="+t.bounty.bountyId)}}},[t._v("公開する")])]):t._e(),t._v(" "),1==t.bounty.joinActionNo&&1==t.bounty.joinStatus&&1==t.bounty.canAchieve?n("div",{staticClass:"textCenter questButtonArea"},[n("p",[t._v("\n              目標が達成されたら、クエストの達成してください。\n            ")]),t._v(" "),n("a",{staticClass:"grow2 rewardButton ChangeButton",on:{click:function(e){t.achieveBounty(t.bounty.bountyId)}}},[t._v("達成する")])]):t._e(),t._v(" "),1==t.bounty.joinActionNo&&1==t.bounty.joinStatus&&0==t.bounty.canAchieve?n("div",{staticClass:"textCenter questButtonArea"},[n("p",[t._v("\n              クエストでの活動が基準値（非公開）に達すると達成処理が行えるようになります。\n            ")]),t._v(" "),n("a",{staticClass:"grow2 rewardButton ChangeButton disable"},[t._v("達成する")])]):t._e(),t._v(" "),1==t.isOwn?n("div",{staticClass:"textCenter questButtonArea"},[n("p",[t._v("＼クエストに参加してくれるプレイヤーにオファーしよう！／")]),t._v(" "),n("nuxt-link",{staticClass:"grow2 rewardButton ChangeButton",attrs:{to:"/players"}},[t._v("オファーする")])],1):t._e(),t._v(" "),1==t.bounty.joinStatus&&0==t.isBountyFull?n("div",{staticClass:"textCenter questButtonArea"},[n("p",[t._v("＼お友達にURLを伝えてクエストに参加してもらおう！／")]),t._v(" "),n("button-crip-board-copy",[n("a",{staticClass:"grow2 rewardButton ChangeButton",attrs:{slot:"link"},slot:"link"},[t._v("URLをコピー")])])],1):t._e()]),t._v(" "),n("div",{staticClass:"menuBg"},[n("div",{staticClass:"container"},[n("div",{staticClass:"contentsArea"},[n("ul",{staticClass:"flexMenu bountyMenu"},[n("li",{class:{here:1==t.tabNum}},[1==t.tabNum?n("div",[t._v("プレイヤー募集")]):n("div",[n("a",{on:{click:function(e){t.tabNumChange(1)}}},[t._v("プレイヤー募集")])])]),t._v(" "),n("li",{class:{here:2==t.tabNum}},[2==t.tabNum?n("div",[t._v("パーティー")]):n("div",[n("a",{on:{click:function(e){t.tabNumChange(2)}}},[t._v("パーティー")])])]),t._v(" "),n("li",{class:{here:4==t.tabNum}},[4==t.tabNum?n("div",[t._v("達成者")]):n("div",[n("a",{on:{click:function(e){t.tabNumChange(4)}}},[t._v("達成者")])])]),t._v(" "),n("li",{class:{here:3==t.tabNum}},[3==t.tabNum?n("div",[t._v("チャット")]):n("div",[n("a",{on:{click:function(e){t.tabNumChange(3)}}},[t._v("チャット")])])])])])])])]),t._v(" "),n("div",{staticClass:"container  bottomAdd2"},[1==t.tabNum?n("div",{staticClass:"bountyList personalItem"},t._l(t.bountyActions,function(e){return n("CardBox",{key:e.bountyActionId,attrs:{cardType:"bountyAction",backgroundImageUrl:e.bountyActionImageUrl,titleName:e.bountyActionName,description:e.description,bountyId:e.bountyId,bountyActionNo:e.bountyActionNo,isOwn:t.isOwn,joinAccounts:e.joinAccounts,joinStatus:t.bounty.joinStatus,joinActionNo:t.bounty.joinActionNo,joinDate:t.bounty.joinDate,joinActionStatus:e.joinStatus,thanksMessage:t.bounty.thanksMessage,thanksProfileImageUrl:t.bounty.account.profileImageUrl,thanksProfileIconNo:t.bounty.account.profileIconNo,joinCount:t.bounty.joinCount,challengerCount:t.bounty.challengerCount,supporterCount:t.bounty.supporterCount,participantLimit:t.bounty.participantLimit,bountyCreateStatus:t.bounty.createStatus,bountyPublishStatus:t.bounty.publishStatus,actionJoinCount:e.joinCount,isAchieved:t.bounty.isAchieved,bountyTypeForAction:e.bountyActionType,ownAccountName:t.bounty.account.accountName,ownIconUrl:t.iconUrl},on:{refreshJoin:function(e){t.refreshJoin(t.isCommentSecret)}}})}),1):2==t.tabNum?n("div",{staticClass:"activityArea"},t._l(t.bountyJoins,function(e){return n("CardUser",{key:e.accountId,attrs:{cardType:"bountyJoins",bountyActionNo:e.bountyActionNo,ownAccountName:t.bounty.account.accountName,profileImageUrl:e.profileImageUrl,profileIconNo:e.profileIconNo,displayName:e.displayName,date:e.createDateTime,accountName:e.accountName,isJoin:!0}})}),1):4==t.tabNum?n("div",{staticClass:"activityArea"},t._l(t.bountyAchievers,function(e){return n("CardUser",{key:e.accountId,attrs:{cardType:"bountyJoins",bountyActionNo:e.bountyActionNo,ownAccountName:t.bounty.account.accountName,profileImageUrl:e.profileImageUrl,profileIconNo:e.profileIconNo,displayName:e.displayName,date:e.createDateTime,accountName:e.accountName,isJoin:!0}})}),1):3==t.tabNum?n("div",{staticClass:"activityArea",attrs:{id:"commentArea"}},[t.commentCompleted?t._e():n("div",[t.gettingComment?n("div",{staticClass:"loader"}):n("div",[n("a",{staticClass:"commentReload",on:{click:function(e){t.getComments()}}},[t._v(" ↑ 前のコメント"+t._s(t._f("toLocaleString")(t.limitComments))+"件を表示")])])]),t._v(" "),t._l(t.bountyComments,function(e){return n("CardUser",{key:e.bountyCommentId,attrs:{cardType:"comment",bountyActionNo:e.account.bountyActionNo,ownAccountName:t.bounty.account.accountName,profileImageUrl:e.account.profileImageUrl,profileIconNo:e.account.profileIconNo,displayName:e.account.displayName,date:e.postedDateTime,accountName:e.account.accountName,description:e.comment,commentId:e.bountyCommentId,replyBountyComment:e.replyComment,commentLikeCount:e.likeCount,canPostComment:t.bounty.canPostComment,commentAccountName:e.account.accountName,commentImageUrl:e.commentImageUrl,isAutoComment:e.isAutoComment,commentType:"Bounty"},on:{refreshComment:t.refreshCommentAfterReply}})}),t._v(" "),t.refreshingComments?n("div",{staticClass:"loader"}):n("div",[n("a",{staticClass:"commentReload",on:{click:function(e){t.refreshComment()}}},[t._v(" ＋ 最新のコメントを表示")])]),t._v(" "),t.gettingComment?n("div",{staticClass:"loader"}):t._e(),t._v(" "),n("div",{attrs:{id:"commentAreaEnd"}}),t._v(" "),1==t.bounty.joinStatus?n("a",{staticClass:"modal-syncer",attrs:{"data-target":"modal-content-11"},on:{click:function(e){t.pushChat(t.message)}}},[t._m(0)]):t._e()],2):t._e(),t._v(" "),n("infinite-loading",{attrs:{identifier:t.tabNum},on:{infinite:t.infiniteHandler}},[n("span",{attrs:{slot:"no-more"},slot:"no-more"}),t._v(" "),n("span",{attrs:{slot:"no-results"},slot:"no-results"})])],1),t._v(" "),t.showModalChatPost?n("ModalChatPost",{attrs:{commentId:"",isProcessing:t.isProcessingChatPost,open:t.showModalChatPostOpen},on:{closeModalChatPostYes:t.closeModalChatPostYes,closeModalChatPostNo:function(e){t.closeModalChatPostNo()}}}):t._e(),t._v(" "),t.showModalDialog?n("ModalDialog",{attrs:{messages:t.dialogMessage,showLoginButton:t.showLoginButton,imageUrl:t.dialogImageUrl,open:t.showModalDialogOpen},on:{close:function(e){t.closeModalDialog()}}}):t._e(),t._v(" "),t.showModalDialogFreeFormat?n("ModalDialogFreeFormat",{attrs:{description:t.dialogFreeFormat,yesButtionName:"OK",open:t.showModalDialogFreeFormatOpen},on:{closeModalDialogFreeFormatYes:function(e){t.closeModalDialogFreeFormatYes()}}}):t._e()],1)},a=[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"questEntryLinkBtn chatBtnIcon"},[e("img",{attrs:{img:"",loading:"lazy",src:o(240)}}),this._v(" "),e("p",[this._v("投稿する")])])}];n._withStripped=!0;var i,s=o(1),r=o(4),c=o(76),u=o(232),l=o(248),m=o(241),p=o(298),h=o(77),d=o(299),_=o(233),f=o.n(_),A=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),I=function(t,e,o,n){var a,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var r=t.length-1;r>=0;r--)(a=t[r])&&(s=(i<3?a(s):i>3?a(e,o,s):a(e,o))||s);return i>3&&s&&Object.defineProperty(e,o,s),s},y=function(t,e,o,n){return new(o||(o=Promise))(function(a,i){function s(t){try{c(n.next(t))}catch(t){i(t)}}function r(t){try{c(n.throw(t))}catch(t){i(t)}}function c(t){t.done?a(t.value):new o(function(e){e(t.value)}).then(s,r)}c((n=n.apply(t,e||[])).next())})},b=function(t,e){var o,n,a,i,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function r(i){return function(r){return function(i){if(o)throw new TypeError("Generator is already executing.");for(;s;)try{if(o=1,n&&(a=2&i[0]?n.return:i[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,i[1])).done)return a;switch(n=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,n=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(a=(a=s.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){s.label=i[1];break}if(6===i[0]&&s.label<a[1]){s.label=a[1],a=i;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(i);break}a[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(t){i=[6,t],n=0}finally{o=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,r])}}};s.Vue.directive("linkified",f.a);var g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.tabNum=1,e.message=null,e.isProcessing=!1,e.isCommentSecret=!1,e.iconUrl="",e.limitComments=r.a.API_PARAM.LIMIT_COMMENTS,e.offsetActions=r.a.API_PARAM.LIMIT_DEFAULT,e.offsetJoins=r.a.API_PARAM.LIMIT_DEFAULT,e.offsetAchievers=r.a.API_PARAM.LIMIT_DEFAULT,e.offsetComments=r.a.API_PARAM.LIMIT_COMMENTS,e.gettingComment=!1,e.refreshingComments=!1,e.commentCompleted=!1,e.nowBountyCommentId=0,e.showModalDialog=!1,e.showModalDialogOpen=!1,e.showLoginButton=!1,e.showModalDialogFreeFormat=!1,e.showModalDialogFreeFormatOpen=!1,e.showModalChatPost=!1,e.showModalChatPostOpen=!1,e.isProcessingChatPost=!1,e}return A(e,t),e.prototype.asyncData=function(t){var e=t.app,o=t.route,n=t.store,a=t.error,i=t.redirect;return y(this,void 0,void 0,function(){var t,s,l,m,p,h,d,_,f,A,I,y,g,C,M,v,N,T,L,P,E,w;return b(this,function(b){switch(b.label){case 0:return t="",s=!1,l=[""],m=new u.a,p=1,o.query.TabNum&&(p=Number(o.query.TabNum)),g=(y=Promise).all,[4,e.$axios.$get(r.a.API_URL.BOUNTIES+"/"+o.params.id).catch(function(t){m.putError(t.response.status)})];case 1:return C=[b.sent()],[4,e.$axios.$get(r.a.API_URL.BOUNTIES_ACTIONS.replace("{bounty_id}",o.params.id),{params:{offset:r.a.API_PARAM.OFFSET_DEFAULT,limit:r.a.API_PARAM.LIMIT_DEFAULT,sort:r.a.API_PARAM.SORT_NEW}}).catch(function(t){m.putError(t.response.status)})];case 2:return C=C.concat([b.sent()]),[4,e.$axios.$get(r.a.API_URL.BOUNTIES_JOIN.replace("{bounty_id}",o.params.id),{params:{offset:r.a.API_PARAM.OFFSET_DEFAULT,limit:r.a.API_PARAM.LIMIT_DEFAULT,sort:r.a.API_PARAM.SORT_NEW}}).catch(function(t){m.putError(t.response.status)})];case 3:return C=C.concat([b.sent()]),[4,e.$axios.$get(r.a.API_URL.BOUNTIES_JOIN_ACHIEVED.replace("{bounty_id}",o.params.id),{params:{offset:r.a.API_PARAM.OFFSET_DEFAULT,limit:r.a.API_PARAM.LIMIT_DEFAULT,sort:r.a.API_PARAM.SORT_NEW}}).catch(function(t){m.putError(t.response.status)})];case 4:return C=C.concat([b.sent()]),[4,e.$axios.$get(r.a.API_URL.BOUNTIES_COMMENTS.replace("{bounty_id}",o.params.id),{params:{offset:r.a.API_PARAM.OFFSET_DEFAULT,limit:r.a.API_PARAM.LIMIT_COMMENTS,sort:r.a.API_PARAM.SORT_NEW}}).catch(function(t){return 400===t.response.status&&(p=1,s=!0,l=t.response.data.BadRequest),[{account:null,bountyId:null,bountyCommentId:null,comment:null,commentImage:null,commentImageBase64:null,commentImageUrl:null,likeCount:null,likeQuantity:null,postedDateTime:null,replyCommentId:null,replyComment:null,isAutoComment:null,clientCode:null,credentialId:null}]})];case 5:return[4,g.apply(y,[C.concat([b.sent()])])];case 6:if(h=b.sent(),d=h[0],_=h[1],f=h[2],A=h[3],I=h[4],m.isError())return[2,m.procError(n,o,i,a)];if(M=!1,d.account.accountName===n.state.myProfile.accountName&&(M=!0),v="/img/icon_blank.svg",N=new c.a,d&&d.account&&d.account.profileImageUrl?v=d.account.profileImageUrl+"?"+N.getNowDateTime():d&&d.account&&d.account.profileIconNo&&(v="/img/cha_"+d.account.profileIconNo+".svg"),n.state.myProfile.permissions)for(T=0,L=n.state.myProfile.permissions;T<L.length;T++)"A"===L[T]&&(s=!1);return 1===d.openChat&&(s=!1),t=1===d.createStatus&&1===d.publishStatus?"公開":1===d.createStatus&&2===d.publishStatus?"限定公開":0===d.createStatus?"作成中":"非公開",P=!1,d.challengerCount&&d.participantLimit&&Number(d.challengerCount)>=Number(d.participantLimit)&&(P=!0),E=!1,d.challengerCount&&d.participantLimit&&(E=!0),w=r.a.POINT.WIZ,[2,{bounty:d,bountyActions:_,bountyJoins:f,bountyAchievers:A,bountyComments:I,isOwn:M,iconUrl:v,pointName:w,isCommentSecret:s,isCommentSecretMessage:l,bountyStatsName:t,isBountyFull:P,isChallengerFull:E,freeMessage01:r.a.HELPER_MESSAGE.M032_FREE_MESSAGE_01,faceBookShareUrl:N.encodeUrl("https://uliiq-wishhub.azurewebsites.net/bounties/"+d.bountyId),tabNum:p}]}})})},e.prototype.achieveBounty=function(t){return y(this,void 0,void 0,function(){var e,o=this;return b(this,function(n){switch(n.label){case 0:return this.isProcessing?[2]:(this.isProcessing=!0,(e=new FormData).append("BountyId",t),[4,this.$axios.post(r.a.API_URL.BOUNTIES_ACHIEVE.replace("{bounty_id}",t),e).then(function(t){o.refreshJoin(),o.refreshAchiever(),o.openModalDialog(r.a.MESSAGE.INFO_ACHIEVED,r.a.TemplateImg.DIALOG_ACHIEVED_IMG_URL)}).catch(function(t){400===t.response.status?o.openModalDialog(t.response.data.BadRequest,r.a.TemplateImg.DIALOG_WARN_IMG_URL):401===t.response.status?(o.showLoginButton=!0,o.openModalDialog(r.a.MESSAGE.ERR_401,r.a.TemplateImg.DIALOG_WARN_IMG_URL),o.$store.dispatch("logout")):o.openModalDialog(r.a.MESSAGE.ERR_ELSE,r.a.TemplateImg.DIALOG_WARN_IMG_URL)})]);case 1:return n.sent(),this.isProcessing=!1,[2]}})})},e.prototype.head=function(){var t=this.bounty.bountyImageUrl;return t&&(t="https://uliiq-wishhub.azurewebsites.net/img/sns_share.jpg"),{title:"WishHub（ウィッシュハブ）|"+this.bounty.bountyName,meta:[{hid:"og:type",property:"og:type",content:"article"},{hid:"og:description",property:"og:description",content:this.bounty.description},{hid:"og:url",property:"og:url",content:"https://uliiq-wishhub.azurewebsites.net/bounties/"+this.bounty.bountyId},{hid:"og:image",property:"og:image",content:t},{hid:"og:site_name",property:"og:site_name",content:"WishHub（ウィッシュハブ）|"+this.bounty.bountyName},{hid:"twitter:title",property:"twitter:title",content:"WishHub（ウィッシュハブ）|"+this.bounty.bountyName},{hid:"twitter:description",property:"twitter:description",content:this.bounty.description},{hid:"twitter:image",property:"twitter:image",content:"https://wishhub.fan/img/sns_share.jpg"}]}},e.prototype.tabNumChange=function(t){var e=this;3===t&&this.isCommentSecret?this.openModalDialog(this.isCommentSecretMessage,r.a.TemplateImg.DIALOG_WARN_IMG_URL):(this.offsetActions=r.a.API_PARAM.LIMIT_DEFAULT,this.offsetJoins=r.a.API_PARAM.LIMIT_DEFAULT,this.offsetAchievers=r.a.API_PARAM.LIMIT_DEFAULT,this.tabNum=t,s.Vue.nextTick().then(function(){return y(e,void 0,void 0,function(){return b(this,function(e){switch(e.label){case 0:return 2===t&&this.refreshJoin(),4===t&&this.refreshAchiever(),3!==t?[3,2]:[4,this.refreshComment()];case 1:e.sent(),e.label=2;case 2:return[2]}})})}))},e.prototype.addComment=function(t,e,o,n){return y(this,void 0,void 0,function(){var a,i=this;return b(this,function(c){switch(c.label){case 0:return this.isProcessing||!this.bounty.canPostComment?[2]:(this.isProcessing=!0,a=new FormData,t?(a.append("BountyId",this.$route.params.id),a.append("Comment",t),e&&o&&n?o.size>=r.a.SYSTEM.MAX_IMG_UPLOAD_SIZE?[4,this.$browserImageCompression.getCompressImageFileAsync(o)]:[3,2]:[3,3]):[3,5]);case 1:e=c.sent(),c.label=2;case 2:a.append("CommentImage",n),a.append("CommentImageBase64",e.replace(/^.*,/,"")),c.label=3;case 3:return[4,this.$axios.post(r.a.API_URL.BOUNTIES_COMMENTS.replace("{bounty_id}",this.$route.params.id),a).then(function(){return y(i,void 0,void 0,function(){return b(this,function(t){switch(t.label){case 0:return[4,this.refreshComment()];case 1:return t.sent(),this.message=null,this.closeModalChatPostNo(),this.isProcessingChatPost=!1,s.Vue.nextTick().then(function(){location.href="#commentAreaEnd"}),[2]}})})}).catch(function(t){if(400===t.response.status){var e=[];if(t.response.data)for(var o in t.response.data)e=e.concat(t.response.data[o]);i.openModalDialog(e,r.a.TemplateImg.DIALOG_INFO_IMG_URL)}else 401===t.response.status?(i.showLoginButton=!0,i.openModalDialog(r.a.MESSAGE.ERR_401,r.a.TemplateImg.DIALOG_WARN_IMG_URL),i.$store.dispatch("logout")):i.openModalDialog(r.a.MESSAGE.ERR_ELSE,r.a.TemplateImg.DIALOG_WARN_IMG_URL);i.isProcessingChatPost=!1})];case 4:c.sent(),c.label=5;case 5:return this.isProcessing=!1,[2]}})})},e.prototype.refreshCommentAfterReply=function(){return y(this,void 0,void 0,function(){return b(this,function(t){switch(t.label){case 0:return[4,this.refreshComment()];case 1:return t.sent(),s.Vue.nextTick().then(function(){location.href="#commentAreaEnd"}),[2]}})})},e.prototype.refreshComment=function(){return y(this,void 0,void 0,function(){var t=this;return b(this,function(e){switch(e.label){case 0:return this.refreshingComments=!0,this.offsetComments=r.a.API_PARAM.LIMIT_COMMENTS,[4,this.$axios.get(r.a.API_URL.BOUNTIES_COMMENTS.replace("{bounty_id}",this.$route.params.id),{params:{offset:r.a.API_PARAM.OFFSET_DEFAULT,limit:r.a.API_PARAM.LIMIT_COMMENTS,sort:r.a.API_PARAM.SORT_NEW}}).then(function(e){t.bountyComments=e.data.reverse(),t.isCommentSecret=!1,t.refreshingComments=!1,t.bountyComments.length<r.a.API_PARAM.LIMIT_COMMENTS?t.commentCompleted=!0:t.commentCompleted=!1}).catch(function(e){400===e.response.status&&(t.isCommentSecret=!0,t.isCommentSecretMessage=e.response.data.BadRequest),t.refreshingComments=!1,t.bountyComments=[{account:null,bountyId:null,bountyCommentId:null,comment:null,postedDateTime:null,replyCommentId:null,replyComment:null,isAutoComment:null,clientCode:null,credentialId:null}],console.log(e)})];case 1:return e.sent(),[2]}})})},e.prototype.refreshJoin=function(){var t=this;this.$axios.get(r.a.API_URL.BOUNTIES_JOIN.replace("{bounty_id}",this.$route.params.id),{params:{offset:r.a.API_PARAM.OFFSET_DEFAULT,limit:r.a.API_PARAM.LIMIT_DEFAULT,sort:r.a.API_PARAM.SORT_NEW}}).then(function(e){t.bountyJoins=e.data,t.$axios.get(r.a.API_URL.BOUNTIES+"/"+t.$route.params.id).then(function(e){t.bounty=e.data,t.refreshComment()}).catch(function(t){console.log(t)})}).catch(function(t){console.log(t)}),this.$axios.get(r.a.API_URL.BOUNTIES_ACTIONS.replace("{bounty_id}",this.$route.params.id),{params:{offset:r.a.API_PARAM.OFFSET_DEFAULT,limit:r.a.API_PARAM.LIMIT_DEFAULT,sort:r.a.API_PARAM.SORT_NEW}}).then(function(e){t.bountyActions=e.data}).catch(function(t){console.log(t)})},e.prototype.refreshAchiever=function(){var t=this;this.$axios.get(r.a.API_URL.BOUNTIES_JOIN_ACHIEVED.replace("{bounty_id}",this.$route.params.id),{params:{offset:r.a.API_PARAM.OFFSET_DEFAULT,limit:r.a.API_PARAM.LIMIT_DEFAULT,sort:r.a.API_PARAM.SORT_NEW}}).then(function(e){t.bountyJoins=e.data,t.$axios.get(r.a.API_URL.BOUNTIES+"/"+t.$route.params.id).then(function(e){t.bounty=e.data,t.refreshComment()}).catch(function(t){console.log(t)})}).catch(function(t){console.log(t)}),this.$axios.get(r.a.API_URL.BOUNTIES_ACTIONS.replace("{bounty_id}",this.$route.params.id),{params:{offset:r.a.API_PARAM.OFFSET_DEFAULT,limit:r.a.API_PARAM.LIMIT_DEFAULT,sort:r.a.API_PARAM.SORT_NEW}}).then(function(e){t.bountyActions=e.data}).catch(function(t){console.log(t)})},e.prototype.allowPush=function(t){var e=this;this.$store.dispatch("addNextPagePath",t).then(function(){e.$store.dispatch("transitionAllow").then(function(){e.$router.push(t)})})},e.prototype.openModalDialog=function(t,e){var o=this;this.dialogMessage=t,this.dialogImageUrl=e,this.showModalDialog=!0,setTimeout(function(){s.Vue.nextTick().then(function(){o.showModalDialogOpen=!0})},r.a.SYSTEM.MODAL_OPEN_WAIT_MILLI_SECOND)},e.prototype.closeModalDialog=function(){var t=this;this.showModalDialogOpen=!1,setTimeout(function(){t.showLoginButton=!1,t.showModalDialog=!1},r.a.SYSTEM.MODAL_CLOSE_WAIT_MILLI_SECOND)},e.prototype.openModalDialogFreeFormat=function(t){var e=this;this.showModalDialogFreeFormat=!0,this.dialogFreeFormat=t,setTimeout(function(){s.Vue.nextTick().then(function(){e.showModalDialogFreeFormatOpen=!0})},r.a.SYSTEM.MODAL_OPEN_WAIT_MILLI_SECOND)},e.prototype.closeModalDialogFreeFormatYes=function(){var t=this;this.showModalDialogFreeFormatOpen=!1,setTimeout(function(){t.showModalDialogFreeFormat=!1},r.a.SYSTEM.MODAL_CLOSE_WAIT_MILLI_SECOND)},e.prototype.infiniteHandler=function(t){var e=this;s.Vue.nextTick().then(function(){1===e.tabNum?e.infiniteHandlerActivities(t):2===e.tabNum?e.infiniteHandlerJoins(t):3===e.tabNum?t.complete():4===e.tabNum&&e.infiniteHandlerAchievers(t)})},e.prototype.infiniteHandlerActivities=function(t){var e=this;1===this.tabNum&&this.$axios.get(r.a.API_URL.BOUNTIES_ACTIONS.replace("{bounty_id}",this.$route.params.id),{params:{offset:this.offsetActions,limit:r.a.API_PARAM.LIMIT_DEFAULT,sort:r.a.API_PARAM.SORT_NEW}}).then(function(o){var n;o.data.length?(e.offsetActions+=r.a.API_PARAM.LIMIT_DEFAULT,(n=e.bountyActions).push.apply(n,o.data),t.loaded()):t.complete()}).catch(function(e){t.complete()})},e.prototype.infiniteHandlerJoins=function(t){var e=this;2===this.tabNum&&this.$axios.get(r.a.API_URL.BOUNTIES_JOIN.replace("{bounty_id}",this.$route.params.id),{params:{offset:this.offsetJoins,limit:r.a.API_PARAM.LIMIT_DEFAULT,sort:r.a.API_PARAM.SORT_NEW}}).then(function(o){var n;o.data.length?(e.offsetJoins+=r.a.API_PARAM.LIMIT_DEFAULT,(n=e.bountyJoins).push.apply(n,o.data),t.loaded()):t.complete()}).catch(function(e){t.complete()})},e.prototype.infiniteHandlerAchievers=function(t){var e=this;4===this.tabNum&&this.$axios.get(r.a.API_URL.BOUNTIES_JOIN_ACHIEVED.replace("{bounty_id}",this.$route.params.id),{params:{offset:this.offsetAchievers,limit:r.a.API_PARAM.LIMIT_DEFAULT,sort:r.a.API_PARAM.SORT_NEW}}).then(function(o){var n;o.data.length?(e.offsetAchievers+=r.a.API_PARAM.LIMIT_DEFAULT,(n=e.bountyAchievers).push.apply(n,o.data),t.loaded()):t.complete()}).catch(function(e){t.complete()})},e.prototype.getComments=function(){var t=this;3===this.tabNum&&(this.gettingComment||this.commentCompleted||(this.gettingComment=!0,this.$axios.get(r.a.API_URL.BOUNTIES_COMMENTS.replace("{bounty_id}",this.$route.params.id),{params:{offset:this.offsetComments,limit:r.a.API_PARAM.LIMIT_COMMENTS,sort:r.a.API_PARAM.SORT_NEW}}).then(function(e){var o;if(e.data.length){t.offsetComments+=r.a.API_PARAM.LIMIT_COMMENTS,e.data[0]&&(t.nowBountyCommentId=Number(e.data[0].bountyCommentId));var n=e.data.reverse();(o=t.bountyComments).unshift.apply(o,n),s.Vue.nextTick().then(function(){return y(t,void 0,void 0,function(){return b(this,function(t){return this.nowBountyCommentId&&(location.href="#"+String(this.nowBountyCommentId)),this.gettingComment=!1,[2]})})})}else t.commentCompleted=!0,t.gettingComment=!1}).catch(function(t){console.log()})))},e.prototype.pushChat=function(){this.openModalChatPost()},e.prototype.openModalChatPost=function(){var t=this;this.showModalChatPost=!0,setTimeout(function(){s.Vue.nextTick().then(function(){t.showModalChatPostOpen=!0})},r.a.SYSTEM.MODAL_OPEN_WAIT_MILLI_SECOND)},e.prototype.closeModalChatPostYes=function(t,e,o,n,a){this.isProcessingChatPost=!0,this.addComment(t,o,n,a)},e.prototype.closeModalChatPostNo=function(){var t=this;this.showModalChatPostOpen=!1,setTimeout(function(){t.showModalChatPost=!1},r.a.SYSTEM.MODAL_CLOSE_WAIT_MILLI_SECOND)},e=I([Object(s.Component)({components:{CardUser:l.a,CardBox:m.a,BountyType:p.a,ModalDialog:h.a,ModalChatPost:d.a}})],e)}(s.Vue),C=(o(357),o(2)),M=Object(C.a)(g,n,a,!1,null,"4f318383",null);e.default=M.exports}}]);