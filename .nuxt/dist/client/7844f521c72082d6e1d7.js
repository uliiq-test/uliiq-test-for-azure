(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{242:function(t,e,n){"use strict";function r(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==c.return||c.return()}finally{if(i)throw o}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var i="undefined"!=typeof window&&window.cordova&&window.cordova.require("cordova/modulemapper"),o=i&&i.getOriginalSymbol(window,"File")||File,a=i&&i.getOriginalSymbol(window,"FileReader")||FileReader;function c(t){return new Promise(function(e,n){var r=new a;r.onload=function(){return e(r.result)},r.onerror=function(t){return n(t)},r.readAsDataURL(t)})}function u(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Date.now();return new Promise(function(r){for(var i=t.split(","),o=i[0].match(/:(.*?);/)[1],a=atob(i[1]),c=a.length,u=new Uint8Array(c);c--;)u[c]=a.charCodeAt(c);var s=new Blob([u],{type:o});s.name=e,s.lastModified=n,r(s)})}function s(t){return new Promise(function(e,n){var r=new Image;r.onload=function(){return e(r)},r.onerror=function(t){return n(t)},r.src=t})}function l(t){var e=r(m(t.width,t.height),2),n=e[0];return e[1].drawImage(t,0,0,n.width,n.height),n}function f(t){return new Promise(function(e,n){var r,i,o=function(){try{return i=l(r),e([r,i])}catch(t){return n(t)}},a=function(e){try{return c(t).then(function(t){try{return s(t).then(function(t){try{return r=t,o()}catch(t){return n(t)}},n)}catch(t){return n(t)}},n)}catch(t){return n(t)}};try{return createImageBitmap(t).then(function(t){try{return r=t,o()}catch(t){return a()}},a)}catch(t){a()}})}function h(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1;return new Promise(function(o,a){var c;return"function"==typeof OffscreenCanvas&&t instanceof OffscreenCanvas?t.convertToBlob({type:e,quality:i}).then(function(t){try{return(c=t).name=n,c.lastModified=r,s.call(this)}catch(t){return a(t)}}.bind(this),a):u(t.toDataURL(e,i),n,r).then(function(t){try{return c=t,s.call(this)}catch(t){return a(t)}}.bind(this),a);function s(){return o(c)}})}function d(t){return new Promise(function(e,n){var r=new a;r.onload=function(t){var n=new DataView(t.target.result);if(65496!=n.getUint16(0,!1))return e(-2);for(var r=n.byteLength,i=2;i<r;){if(n.getUint16(i+2,!1)<=8)return e(-1);var o=n.getUint16(i,!1);if(i+=2,65505==o){if(1165519206!=n.getUint32(i+=2,!1))return e(-1);var a=18761==n.getUint16(i+=6,!1);i+=n.getUint32(i+4,a);var c=n.getUint16(i,a);i+=2;for(var u=0;u<c;u++)if(274==n.getUint16(i+12*u,a))return e(n.getUint16(i+12*u+8,a))}else{if(65280!=(65280&o))break;i+=n.getUint16(i,!1)}}return e(-1)},r.onerror=function(t){return n(t)},r.readAsArrayBuffer(t)})}function g(t,e){var n,i=t.width,o=t.height,a=e.maxWidthOrHeight,c=t;if(Number.isInteger(a)&&(i>a||o>a)){var u=r(m(i,o),2);c=u[0],n=u[1],i>o?(c.width=a,c.height=o/i*a):(c.width=i/o*a,c.height=a),n.drawImage(t,0,0,c.width,c.height)}return c}function p(t,e){var n=t.width,i=t.height,o=r(m(n,i),2),a=o[0],c=o[1];switch(4<e&&e<9?(a.width=i,a.height=n):(a.width=n,a.height=i),e){case 2:c.transform(-1,0,0,1,n,0);break;case 3:c.transform(-1,0,0,-1,n,i);break;case 4:c.transform(1,0,0,-1,0,i);break;case 5:c.transform(0,1,1,0,0,0);break;case 6:c.transform(0,1,-1,0,i,0);break;case 7:c.transform(0,-1,-1,0,i,n);break;case 8:c.transform(0,-1,1,0,0,n)}return c.drawImage(t,0,0,n,i),a}function m(t,e){var n,r;try{r=(n=new OffscreenCanvas(t,e)).getContext("2d")}catch(t){r=(n=document.createElement("canvas")).getContext("2d")}return n.width=t,n.height=e,[n,r]}function w(t,e){return new Promise(function(n,i){var o,a,c,u,s,l,w;return o=e.maxIteration||10,a=1024*e.maxSizeMB*1024,f(t).then(function(f){try{var v=r(f,2);return c=v[0],u=g(u=v[1],e),new Promise(function(n,r){var i;if(!(i=e.exifOrientation))return d(t).then(function(t){try{return i=t,o.call(this)}catch(t){return r(t)}}.bind(this),r);function o(){return n(i)}return o.call(this)}).then(function(f){try{return e.exifOrientation=f,u=p(u,e.exifOrientation),s=1,h(u,t.type,t.name,t.lastModified,s).then(function(e){try{var f,d=function e(){if(o--&&w.size>a){var n,l,f,d=r(m(n=.9*u.width,l=.9*u.height),2);return f=d[0],d[1].drawImage(c,0,0,n,l),"image/jpeg"===t.type&&(s*=.9),h(f,t.type,t.name,t.lastModified,s).then(function(t){try{return w=t,u=f,e}catch(t){return i(t)}},i)}return[1]},g=function(){return n(w)};return(l=e).size<=a?n(l):(w=l,(f=function(t){for(;t;){if(t.then)return void t.then(f,i);try{if(t.pop){if(t.length)return t.pop()?g.call(this):t;t=d}else t=t.call(this)}catch(t){return i(t)}}}.bind(this))(d))}catch(t){return i(t)}}.bind(this),i)}catch(t){return i(t)}}.bind(this),i)}catch(t){return i(t)}}.bind(this),i)})}var v,y=0,b=function(t){return new Worker(URL.createObjectURL(new Blob(["(".concat(t,")()")])))}(function(){var t=!1;self.addEventListener("message",function(e){return new Promise(function(n,r){var i,o,a,c,u=e.data;i=u.file,o=u.id,a=u.imageCompressionLibUrl,c=u.options;var s=function(){try{return n()}catch(t){return r(t)}},l=function(t){try{return self.postMessage({error:t.message,id:o}),s()}catch(t){return r(t)}};try{var f;return t||(importScripts(a),t=!0),C(i,c).then(function(t){try{return f=t,self.postMessage({file:f,id:o}),s()}catch(t){return l(t)}},l)}catch(t){l(t)}})})});function x(t,e){return new Promise(function(n,r){return new Promise(function(i,o){v||(v=function(t){return URL.createObjectURL(new Blob([t],{type:"application/javascript"}))}("\n    function imageCompression (){return (".concat(C,").apply(null, arguments)}\n\n    imageCompression.getDataUrlFromFile = ").concat(C.getDataUrlFromFile,"\n    imageCompression.getFilefromDataUrl = ").concat(C.getFilefromDataUrl,"\n    imageCompression.loadImage = ").concat(C.loadImage,"\n    imageCompression.drawImageInCanvas = ").concat(C.drawImageInCanvas,"\n    imageCompression.drawFileInCanvas = ").concat(C.drawFileInCanvas,"\n    imageCompression.canvasToFile = ").concat(C.canvasToFile,"\n    imageCompression.getExifOrientation = ").concat(C.getExifOrientation,"\n    imageCompression.handleMaxWidthOrHeight = ").concat(C.handleMaxWidthOrHeight,"\n    imageCompression.followExifOrientation = ").concat(C.followExifOrientation,"\n\n    getDataUrlFromFile = imageCompression.getDataUrlFromFile\n    getFilefromDataUrl = imageCompression.getFilefromDataUrl\n    loadImage = imageCompression.loadImage\n    drawImageInCanvas = imageCompression.drawImageInCanvas\n    drawFileInCanvas = imageCompression.drawFileInCanvas\n    canvasToFile = imageCompression.canvasToFile\n    getExifOrientation = imageCompression.getExifOrientation\n    handleMaxWidthOrHeight = imageCompression.handleMaxWidthOrHeight\n    followExifOrientation = imageCompression.followExifOrientation\n\n    getNewCanvasAndCtx = ").concat(m,"\n    \n    CustomFileReader = FileReader\n    \n    CustomFile = File\n    \n    function _slicedToArray(arr, n) { return arr }\n\n    function compress (){return (").concat(w,").apply(null, arguments)}\n    ")));var a=y++;return b.addEventListener("message",function t(e){e.data.id===a&&(b.removeEventListener("message",t),e.data.error&&r(e.data.error),n(e.data.file))}),b.postMessage({file:t,id:a,imageCompressionLibUrl:v,options:e}),i()})})}function C(t,e){return new Promise(function(n,r){var i,a;if(e.maxSizeMB=e.maxSizeMB||Number.POSITIVE_INFINITY,e.useWebWorker="boolean"!=typeof e.useWebWorker||e.useWebWorker,!(t instanceof Blob||t instanceof o))return r(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(t.type))return r(new Error("The file given is not an image"));if(a="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope,!e.useWebWorker||"function"!=typeof Worker||a)return w(t,e).then(function(t){try{return i=t,s.call(this)}catch(t){return r(t)}}.bind(this),r);var c=function(){try{return s.call(this)}catch(t){return r(t)}}.bind(this),u=function(n){try{return console.warn("Run compression in web worker failed:",n,", fall back to main thread"),w(t,e).then(function(t){try{return i=t,c()}catch(t){return r(t)}},r)}catch(t){return r(t)}};try{return x(t,e).then(function(t){try{return i=t,c()}catch(t){return u(t)}},u)}catch(t){u(t)}function s(){try{i.name=t.name,i.lastModified=t.lastModified}catch(t){}return n(i)}})}C.getDataUrlFromFile=c,C.getFilefromDataUrl=u,C.loadImage=s,C.drawImageInCanvas=l,C.drawFileInCanvas=f,C.canvasToFile=h,C.getExifOrientation=d,C.handleMaxWidthOrHeight=g,C.followExifOrientation=p;var I=C,F=n(54);n.d(e,"a",function(){return P});var k=function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function c(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(a,c)}u((r=r.apply(t,e||[])).next())})},O=function(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function c(o){return function(c){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,c])}}},P=function(){function t(){}return t.prototype.stringToDataYmd=function(t){return t?new Date(t.substring(0,4)+"/"+t.substring(4,6)+"/"+t.substring(6,8)):new Date},t.prototype.dateNowCompare=function(t){var e=new Date,n=e.getFullYear(),r=e.getMonth()+1,i=e.getDate(),o=t.getFullYear(),a=t.getMonth()+1,c=t.getDate();return n===o?r===a?i<c?1:i===c?0:-1:r<a?1:-1:n<o?1:-1},t.prototype.encodeUrl=function(t){return t?t.replace(/\:/g,"%3A").replace(/\//g,"%2F"):t},t.prototype.getCompressImageFileAsync=function(t){return k(this,void 0,void 0,function(){var e,n;return O(this,function(r){switch(r.label){case 0:e={maxSizeMB:F.a.SYSTEM.MAX_IMG_UPLOAD_SIZE_MB},r.label=1;case 1:return r.trys.push([1,3,,4]),[4,I(t,e)];case 2:return[2,r.sent()];case 3:throw n=r.sent(),console.error("getCompressImageFileAsync is error",n),n;case 4:return[2]}})})},t}()},312:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this.$createElement;return(this._self._c||t)("no-ssr")};r._withStripped=!0;var i,o=n(1),a=n(54),c=n(242),u=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},l=function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function c(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(a,c)}u((r=r.apply(t,e||[])).next())})},f=function(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function c(o){return function(c){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,c])}}},h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return u(e,t),e.prototype.mounted=function(){var t=this;this.$nextTick(function(){return l(t,void 0,void 0,function(){var t,e,n,r,i=this;return f(this,function(o){switch(o.label){case 0:return t=this.$store.state.isB2cAuth||"true"===this.$cookies.get("isB2cAuth"),e=this.$store.state.isB2cLogout||"true"===this.$cookies.get("isB2cLogout"),console.debug("ログイン開始"),location.hash?(console.debug("ログイン後リダイレクト1回目"),this.$cookies.set("isB2cAuth",!0,{maxAge:604800}),this.$store.dispatch("updateIsB2cAuth",!0),[3,4]):[3,1];case 1:return e&&t?(console.debug("3.画面遷移処理"),this.$store.dispatch("updateIsB2cAuth",!1),this.$cookies.set("isB2cAuth",!1,{maxAge:604800}),this.$cookies.set("isB2cLogout",!1,{maxAge:604800}),[4,this.$msalWishHub.silentLogin()]):[3,3];case 2:return n=o.sent(),this.$store.dispatch("addAccessToken",n).then(function(){i.$axios.get(a.a.API_URL.MY_PROFILE).then(function(t){i.$store.dispatch("addMyProfile",t.data).then(function(){return l(i,void 0,void 0,function(){var t;return f(this,function(e){switch(e.label){case 0:return this.$store.state.nextPagePath||this.$cookies.get("nextPagePath")?(t=this.$store.state.nextPagePath||this.$cookies.get("nextPagePath"),[4,this.$store.dispatch("resetPagePath")]):[3,3];case 1:return e.sent(),[4,this.$cookies.remove("nextPagePath")];case 2:return e.sent(),this.$router.push(t),[2];case 3:return this.$router.push("/account/my"),[2]}})})})}).catch(function(t){return l(i,void 0,void 0,function(){return f(this,function(e){switch(e.label){case 0:return 404!==t.response.status?[3,1]:(this.$router.push("/account/my/profile"),[2]);case 1:return[4,this.$store.dispatch("resetPagePath")];case 2:return e.sent(),this.$router.push("/"),[2]}})})})}),[3,4];case 3:e&&!t?(console.debug("2.ログイン"),this.$msalWishHub.login()):(console.debug("1.ログアウト"),this.$cookies.set("isB2cLogout",!0,{maxAge:604800}),this.$store.dispatch("updateIsB2cLogout",!0),r=new c.a,window.location.replace("https://login.microsoftonline.com/tfp/uliiqauth.onmicrosoft.com/B2C_1_wishhub_uliiq//oauth2/v2.0/logout?post_logout_redirect_uri="+r.encodeUrl(String("https://uliiq-wishhub.azurewebsites.net/account/signup")))),o.label=4;case 4:return[2]}})})})},e=s([Object(o.Component)({layout:"signupLoading"})],e)}(o.Vue),d=n(5),g=Object(d.a)(h,r,[],!1,null,null,null);e.default=g.exports}}]);