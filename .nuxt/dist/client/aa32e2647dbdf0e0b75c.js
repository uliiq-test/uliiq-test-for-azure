(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{307:function(t,e,o){"use strict";o.r(e);var n=function(){var t=this.$createElement,e=this._self._c||t;return e("no-ssr",[e("div",[this._v("Loading...")])])};n._withStripped=!0;var r,s=o(4),u=o(54),i=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=function(t,e,o,n){var r,s=arguments.length,u=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(t,e,o,n);else for(var i=t.length-1;i>=0;i--)(r=t[i])&&(u=(s<3?r(u):s>3?r(e,o,u):r(e,o))||u);return s>3&&u&&Object.defineProperty(e,o,u),u},a=function(t,e,o,n){return new(o||(o=Promise))(function(r,s){function u(t){try{c(n.next(t))}catch(t){s(t)}}function i(t){try{c(n.throw(t))}catch(t){s(t)}}function c(t){t.done?r(t.value):new o(function(e){e(t.value)}).then(u,i)}c((n=n.apply(t,e||[])).next())})},l=function(t,e){var o,n,r,s,u={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return s={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function i(s){return function(i){return function(s){if(o)throw new TypeError("Generator is already executing.");for(;u;)try{if(o=1,n&&(r=2&s[0]?n.return:s[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,s[1])).done)return r;switch(n=0,r&&(s=[2&s[0],r.value]),s[0]){case 0:case 1:r=s;break;case 4:return u.label++,{value:s[1],done:!1};case 5:u.label++,n=s[1],s=[0];continue;case 7:s=u.ops.pop(),u.trys.pop();continue;default:if(!(r=(r=u.trys).length>0&&r[r.length-1])&&(6===s[0]||2===s[0])){u=0;continue}if(3===s[0]&&(!r||s[1]>r[0]&&s[1]<r[3])){u.label=s[1];break}if(6===s[0]&&u.label<r[1]){u.label=r[1],r=s;break}if(r&&u.label<r[2]){u.label=r[2],u.ops.push(s);break}r[2]&&u.ops.pop(),u.trys.pop();continue}s=e.call(t,u)}catch(t){s=[6,t],n=0}finally{o=r=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,i])}}},h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.mounted=function(){var t=this;console.log("[Debug]signup#mounted():Start"),console.log("================================"),console.log("isB2cAuth:"+this.$store.state.isB2cAuth),console.log("アンカー情報:"+location.hash),console.log("================================"),this.$nextTick(function(){return a(t,void 0,void 0,function(){var t,e,o=this;return l(this,function(n){switch(n.label){case 0:return this.$store.state.isB2cAuth?(console.log("[Debug]loading#mounted():分岐処理"),console.log("[Debug]loading#mounted():Start"),this.$store.dispatch("updateAuthStatus",!1),[4,this.$msalWishHub.silentLogin()]):[3,8];case 1:t=n.sent(),e=0,n.label=2;case 2:return e<10?t?(console.log("[Debug]loading#mounted():アクセストークン取得成功"),[3,7]):[3,3]:[3,7];case 3:return console.log("[Debug]loading#mounted():アクセストークン取得失敗（リトライ）"),[4,(r=500,new Promise(function(t){return setTimeout(t,r)}))];case 4:return n.sent(),[4,this.$msalWishHub.silentLogin()];case 5:t=n.sent(),n.label=6;case 6:return e++,[3,2];case 7:return console.log("[Debug]loading#mounted():accessToken => "+t),console.log("[Debug]loading#mounted():Get Request(MY_PROFILE)"),this.$store.dispatch("addAccessToken",t).then(function(){o.$axios.get(u.a.API_URL.MY_PROFILE).then(function(t){console.log("[Debug]loading#mounted():Get Request(MY_PROFILE:Success)"),o.$store.dispatch("addMyProfile",t.data).then(function(){return a(o,void 0,void 0,function(){var t;return l(this,function(e){switch(e.label){case 0:return console.log("[Debug]loading#mounted():nextPagePath => "+this.$store.state.nextPagePath),this.$store.state.nextPagePath?(t=this.$store.state.nextPagePath,[4,this.$store.dispatch("resetPagePath")]):[3,2];case 1:return e.sent(),console.log("[Debug]loading#mounted():goto"+t),this.$router.push(t),[2];case 2:return console.log("[Debug]loading#mounted():goto /account/my"),this.$router.push("/account/my"),[2]}})})})}).catch(function(t){return a(o,void 0,void 0,function(){return l(this,function(e){switch(e.label){case 0:return console.log("[Debug]loading#mounted():Get Request(MY_PROFILE:Failure)"),404!==t.response.status?[3,1]:(console.log("[Debug]loading#mounted():goto /account/my/profile"),this.$router.push("/account/my/profile"),[2]);case 1:return console.log("[Debug]loading#mounted():goto /"),[4,this.$store.dispatch("resetPagePath")];case 2:return e.sent(),this.$router.push("/"),[2]}})})})}),[3,9];case 8:location.hash?(console.log("[Debug]loading#mounted():B2C認証済"),this.$store.dispatch("setIsB2cAuth",!0)):(console.log("[Debug]loading#mounted():B2C認証スタート"),this.$msalWishHub.login()),n.label=9;case 9:return[2]}var r})})})},e=c([Object(s.Component)({layout:"signupLoading"})],e)}(s.Vue),g=o(6),d=Object(g.a)(h,n,[],!1,null,null,null);e.default=d.exports}}]);